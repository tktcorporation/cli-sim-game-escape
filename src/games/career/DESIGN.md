# Career Simulator — ゲームデザインドキュメント v2

## 目的・ビジョン

「いろんな職業を**体験**しながら、自分だけのキャリアと経済基盤を築く」シミュレーション。
プレイヤーはフリーターからスタートし、**実際の業務を体感**しながらスキルを磨き、
**現実的なキャッシュフロー管理**を通じて経済的自由を目指す。

**ターゲット体験**:
「プログラマーになったらバグ修正の仕事が来た！解決してボーナスゲット。
でも家賃と奨学金の返済で手取りは少ない…生活水準を下げて投資に回すか、
スキルアップして転職で給料を上げるか？」

---

## コアコンセプト: 「体験・選択・自由」

### 3つの柱

```
┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐
│  1. 業務体験     │  │  2. キャリア戦略 │  │  3. マネー戦略   │
│  (キッザニア)    │  │  (選択と成長)    │  │  (キャッシュフロー)│
│                  │  │                  │  │                  │
│ 各職業の仕事を   │  │ スキル投資で     │  │ 収入・支出・     │
│ 実際にやってみる │  │ キャリアを切り拓く│  │ 資産・負債を管理 │
└────────┬─────────┘  └────────┬─────────┘  └────────┬─────────┘
         │                     │                     │
         └──────── 相互に影響 ────────┘─────────────────┘
```

1. **業務体験** — 職業ごとの「お仕事ミニタスク」で、その仕事が何をするか体感する
2. **キャリア戦略** — スキル投資・転職で、複数のキャリアパスから自分の道を選ぶ
3. **マネー戦略** — 現実的な家計管理と資産形成で、経済的自由を目指す

### プレイヤーの感情

**業務体験**: 「プログラマーってバグを直すのか！営業は交渉が大事なんだ！
医者は診断が難しい…こういう仕事なのか」

**キャリア戦略**: 「技術系に進むか営業系か…前職の営業経験があるから
技術営業みたいなポジションが効率いいかも」

**マネー戦略**: 「給料は¥50上がったけど、生活水準を上げたら支出も増えて
手取りは変わらない…ラットレースだ。不労所得を増やさないと」

### 勝利条件

| 条件 | 名前 | 説明 |
|------|------|------|
| **経済的自由** | ラットレース脱出 | 不労所得 ≥ 総支出（働かなくても生活できる） |
| **キャリア達成** | 業界の頂点 | Tier 5 の職業に到達 |
| **完全制覇** | 人生の勝者 | 両方を同時に達成 |

---

## デザイン原則

1. **体験の実感**: 各職業が「何をする仕事か」をミニタスクで体感できる。
   単なる数字の上下ではなく、仕事の中身に触れる。

2. **情報の透明性**: 収入・支出・資産・負債をすべて可視化する。
   「なぜお金が貯まらないか」がバランスシートを見れば分かる。

3. **投資と回収のジレンマ**: 研修費は支出。転職は収入構造の変化。
   生活水準の上昇は効率UPだがコストも増える。常にトレードオフがある。

4. **現実に寄せた経済**: 税金、社会保険、ローン、生活費が存在し、
   「額面」と「手取り」の乖離を体感する。

5. **段階的な開放感**: 新しい職業の業務タスクを初めて体験する瞬間、
   不労所得が支出を超える瞬間の達成感を大切にする。

---

## システム1: 業務体験 (キッザニアシステム)

### 概要

各職業に就くと、定期的に「業務タスク」が発生する。
プレイヤーはキー操作で業務をこなし、成果に応じて報酬を得る。

**設計思想**:
- 各タスクはその職業の**本質的な業務**を簡略化して表現する
- 3〜10秒で完了する短いインタラクション
- 成功/失敗で報酬が変わり、仕事の「上手さ」が収入に影響する
- 同じ職業でもタスクのバリエーションがあり飽きにくい

### タスク発生サイクル

```
通常業務 (自動給料) ──── 50 ticks ────> 業務タスク発生!
                                          ↓
                                    [制限時間内に回答]
                                          ↓
                                   成功: ボーナス報酬 + スキルUP
                                   失敗: 報酬なし (ペナルティなし)
                                   無視: 自動的にスキップ
                                          ↓
                                    通常業務に戻る
```

- **発生間隔**: 50 ticks (5秒) ごとに1回
- **制限時間**: 50 ticks (5秒) — 次のタスクが来るまでに回答
- **スキップ可能**: 回答しなければ自動スキップ（ペナルティなし）
- **報酬**: 基本給の 20〜50% がボーナスとして追加

### タスクの種類

#### Type A: 選択判断 (Choice)

状況を読んで最適な選択肢を選ぶ。営業・管理・医療・コンサル系。

```
┌─── 業務タスク ─────────────────────┐
│ [営業] 顧客対応                     │
│                                     │
│ 顧客「価格が高すぎる」              │
│                                     │
│ [1] 「では10%値引きします」         │
│ [2] 「他社にない価値があります」     │
│ [3] 「一度お持ち帰りください」       │
│                                     │
│ 残り: ████████░░                    │
└─────────────────────────────────────┘
```

- 最適解: ボーナス100% + 対応スキル+0.5
- 次善: ボーナス50%
- 不適切: ボーナス0%

#### Type B: パターン発見 (Pattern)

異常やパターンを見つける。プログラマー・デザイナー・品質管理系。

```
┌─── 業務タスク ─────────────────────┐
│ [プログラマー] コードレビュー        │
│                                     │
│  price = quantity * cost            │
│  total = price + price * tax        │
│  discount = total * 0.1             │
│  final = total + discount  ← ???    │
│                                     │
│ バグの行は？ [1] 1行目 [2] 3行目    │
│              [3] 4行目 [4] なし      │
│                                     │
│ 残り: ██████░░░░                    │
└─────────────────────────────────────┘
```

正解は [3] (+ ではなく - であるべき)

#### Type C: 計算・分析 (Calculation)

数字を読み取り判断する。経理・金融・データ分析系。

```
┌─── 業務タスク ─────────────────────┐
│ [経理] 月次決算チェック              │
│                                     │
│ 売上: ¥120万  原価: ¥72万           │
│ 販管費: ¥30万                       │
│                                     │
│ 営業利益率は？                       │
│ [1] 15%  [2] 25%  [3] 40%          │
│                                     │
│ 残り: ██████████                    │
└─────────────────────────────────────┘
```

正解は [1] ((120-72-30)/120 = 15%)

#### Type D: 対人・説明 (Communication)

相手に合わせた対応を選ぶ。教育・サービス・管理職系。

```
┌─── 業務タスク ─────────────────────┐
│ [教員] 授業                          │
│                                     │
│ 生徒「先生、微分って何の              │
│       役に立つんですか？」           │
│                                     │
│ [1] 「テストに出るから覚えて」       │
│ [2] 「速度の変化を測れるよ」         │
│ [3] 「大人になれば分かる」           │
│                                     │
│ 残り: ████████░░                    │
└─────────────────────────────────────┘
```

#### Type E: 段取り・計画 (Planning)

リソース配分や優先順位を決める。管理職・建設・プロデューサー系。

```
┌─── 業務タスク ─────────────────────┐
│ [マネージャー] タスク優先度           │
│                                     │
│ 以下を限られた人員で対応:            │
│ A. クライアント障害 (緊急)           │
│ B. 新機能開発 (納期1週間)            │
│ C. 社内研修の準備 (来月)             │
│                                     │
│ 最優先は？ [1] A  [2] B  [3] C      │
│                                     │
│ 残り: ██████░░░░                    │
└─────────────────────────────────────┘
```

#### Type F: 制作・創造 (Creation)

美的判断やクリエイティブな選択。デザイナー・クリエイティブ系。

```
┌─── 業務タスク ─────────────────────┐
│ [デザイナー] ロゴデザイン            │
│                                     │
│ クライアント: 法律事務所             │
│ 要望: 「信頼感と格式」               │
│                                     │
│ メインカラーは？                     │
│ [1] 赤 (情熱)                       │
│ [2] 紺 (信頼)                       │
│ [3] 黄 (活発)                       │
│                                     │
│ 残り: ████████░░                    │
└─────────────────────────────────────┘
```

#### Type G: 体力・集中 (Physical/Focus)

タイミングやリズムでこなす。体力系・調理・建設系。

```
┌─── 業務タスク ─────────────────────┐
│ [調理師] 仕込み                      │
│                                     │
│ ちょうどいいタイミングで [!] を押せ！ │
│                                     │
│ [░░░░░░░░░░▓░░░░░░░░░]             │
│            ↑ ここ！                  │
│                                     │
│ 残り: ██████░░░░                    │
└─────────────────────────────────────┘
```

ゲージが左右に動き、中央付近で押すと成功。

### 職業別タスク割り当て

| 職業カテゴリ | 主なタスクType | タスク例 |
|-------------|--------------|---------|
| IT/プログラマー | B (パターン) | バグ発見、コードレビュー、設計選択 |
| 営業 | A (選択判断) | 顧客対応、価格交渉、クレーム処理 |
| 経理/金融 | C (計算) | 決算チェック、利益率計算、融資審査 |
| 管理職 | E (段取り) | 優先度判断、リソース配分、採用判断 |
| 医療 | A+C (判断+分析) | 症状から診断、投薬量計算、トリアージ |
| 教育 | D (対人) | 生徒対応、保護者面談、授業の工夫 |
| クリエイティブ | F (制作) | デザイン判断、企画提案、素材選び |
| 飲食/建設 | G (体力) | タイミング操作、手際の良さ |
| 法律 | A+C (判断+分析) | 条文解釈、契約書チェック、弁護戦略 |
| 公務員 | D+E (対人+段取り) | 窓口対応、政策立案、予算配分 |

### タスク成績と報酬

| 成績 | 判定 | ボーナス | スキル効果 |
|------|------|---------|-----------|
| Perfect | 最適解を選択 | 基本給 × 50% | 該当スキル +0.5 |
| Good | 次善の選択 | 基本給 × 20% | 該当スキル +0.2 |
| Miss | 不適切 or タイムアウト | なし | なし |

### タスク難易度のスケーリング

- **Tier 1 の業務**: 簡単（選択肢が分かりやすい）
- **Tier 2-3**: 中程度（もっともらしい選択肢が増える）
- **Tier 4-5**: 難しい（複合的な判断が必要）

同じ職業でも、就任直後は簡単なタスクが出て、
長く続けると難しいタスクが出るように段階的に変化する。

### タスクの教育的価値

各タスクは**その職業の実際の判断基準**を反映する:

- プログラマー: 「代入と比較の区別」「off-by-one エラー」
- 営業: 「顧客の真のニーズを探る」「価値訴求 vs 値引き」
- 経理: 「利益率の計算」「キャッシュフローの読み方」
- 医療: 「症状の重要度判断」「トリアージの原則」
- 管理職: 「緊急度 vs 重要度のマトリクス」

プレイヤーは遊びながら、各職業のエッセンスを自然に学ぶ。

---

## システム2: キャッシュフロー管理

### 概要

キャッシュフローゲーム（ロバート・キヨサキ）に着想を得た、
現実的な家計管理システム。「額面給与」と「手取り」の乖離、
「資産」と「負債」の違い、「不労所得」の重要性を体感する。

**設計思想**:
- 給料が上がっても支出も増える「ラットレース」を体験する
- 不労所得（パッシブインカム）で支出をカバーすることが真のゴール
- バランスシート（資産/負債）と損益計算書（収入/支出）の両方を管理
- すべての数字を透明に見せ、「なぜお金が増えない/減る」を理解させる

### 給与日サイクル (Pay Period)

ゲーム内の経済は「給与日」サイクルで回る。

```
1給与日 = 300 ticks = 30秒 (リアルタイム) = ゲーム内1ヶ月
```

給与日ごとに以下が自動処理される:

```
┌──────────── 給与日の処理 ────────────┐
│                                       │
│ 1. 給与の受取    (+額面給与)          │
│ 2. 税金の天引き  (-税金)             │
│ 3. 社会保険料    (-保険料)           │
│ 4. 生活費の支払  (-生活費)           │
│ 5. 住居費       (-家賃 or ローン)    │
│ 6. ローン返済    (-各種ローン)       │
│ 7. 投資収入の受取 (+不労所得)        │
│ ─────────────────────────            │
│ = 手残り (自由に使えるお金)           │
│                                       │
│ → 研修・投資・生活水準変更に使う      │
└───────────────────────────────────────┘
```

### 損益計算書 (Income Statement)

毎月の収支を表示する画面。

```
┌─── 月次収支 (損益計算書) ───────────┐
│                                     │
│ 【収入】              月額          │
│  給与 (プログラマー)  ¥5,000        │
│  業務ボーナス         ¥1,200  ※1   │
│  ──────────────────────────         │
│  総収入               ¥6,200        │
│                                     │
│ 【天引き】                          │
│  所得税 (15%)         ▲¥930        │
│  社会保険料 (8%)      ▲¥496        │
│  ──────────────────────────         │
│  手取り給与           ¥4,774        │
│                                     │
│ 【不労所得】                        │
│  預金利息             ¥20           │
│  株式配当             ¥150          │
│  不動産家賃           ¥0            │
│  ──────────────────────────         │
│  不労所得合計         ¥170          │
│                                     │
│ 【支出】                            │
│  生活費 (普通)        ▲¥1,200      │
│  家賃 (1K)            ▲¥800        │
│  奨学金返済           ▲¥300        │
│  ──────────────────────────         │
│  支出合計             ▲¥2,300      │
│                                     │
│ ═══════════════════════════         │
│  月間キャッシュフロー  +¥2,644      │
│                                     │
│  不労所得 ¥170 / 支出 ¥2,300       │
│  経済的自由まで: あと ¥2,130/月 !!  │
└─────────────────────────────────────┘

※1 業務タスクの成績に応じたボーナス
```

### バランスシート (Balance Sheet)

資産と負債の全体像を表示する画面。

```
┌─── バランスシート ─────────────────┐
│                                     │
│ 【資産】          残高    月収入    │
│  現金             ¥25,000  —       │
│  預金             ¥30,000  ¥20     │
│  株式 (インデックス) ¥15,000  ¥150  │
│  投資用不動産     ¥0       ¥0      │
│  ──────────────────────────        │
│  資産合計         ¥70,000           │
│  不労所得合計             ¥170/月  │
│                                     │
│ 【負債】          残高    月返済    │
│  奨学金           ¥15,000  ¥300    │
│  車のローン       ¥0       ¥0      │
│  住宅ローン       ¥0       ¥0      │
│  ──────────────────────────        │
│  負債合計         ¥15,000           │
│  月間返済合計             ¥300/月  │
│                                     │
│ ═══════════════════════════         │
│  純資産 (資産-負債)  ¥55,000       │
└─────────────────────────────────────┘
```

### 収入の構造

#### 労働収入 (Active Income)

| 項目 | 説明 |
|------|------|
| 基本給 | 職業の Tier に応じた月額給与 |
| 業務ボーナス | 業務タスクの成績に応じた追加報酬 (基本給の 0〜50%) |
| 残業代 | なし (このゲームではシンプルにする) |

**月額給与の設計** (300 ticks = 1ヶ月):

| Tier | 代表職業 | 月給(税引前) | 手取り目安 |
|------|---------|-------------|-----------|
| 1 | フリーター | ¥2,400 | ¥2,040 |
| 1 | 事務員 | ¥6,000 | ¥4,920 |
| 2 | プログラマー | ¥15,000 | ¥11,700 |
| 2 | 営業 | ¥16,500 | ¥12,700 |
| 3 | マネージャー | ¥30,000 | ¥21,900 |
| 3 | コンサルタント | ¥39,000 | ¥27,300 |
| 4 | 部長 | ¥66,000 | ¥42,900 |
| 5 | 起業家 | ¥120,000 | ¥72,000 |

※ 月給 = salary_per_tick × 300 ticks。手取り = 月給 × (1 - 税率 - 社保率)

#### 不労所得 (Passive Income)

| 資産タイプ | 最小投資額 | 月利回り | 例: ¥100,000投資時 |
|-----------|-----------|---------|-------------------|
| 預金 | ¥1,000 | 0.05% | ¥50/月 |
| インデックス投信 | ¥5,000 | 0.5% | ¥500/月 |
| 個別株 | ¥10,000 | 0.3〜1.5% | ¥300〜1,500/月 (変動) |
| 投資用不動産 | ¥80,000 | 1.5% | ¥1,500/月 |
| ビジネス投資 | ¥150,000 | 2.0% | ¥3,000/月 |

**個別株の変動**: 毎月の利回りが 0.3%〜1.5% の間でランダムに変動。
景気イベントで大きく上下することもある。

### 支出の構造

#### 生活水準 (Lifestyle Level)

プレイヤーは生活水準を選べる。高い生活水準はスキル効率が上がるが
支出も激増する。これが**ラットレースの罠**。

| 水準 | 名前 | 生活費/月 | 家賃/月 | 合計固定費 | 効果 |
|------|------|----------|---------|-----------|------|
| Lv.1 | 質素 | ¥600 | ¥400 | ¥1,000 | — |
| Lv.2 | 普通 | ¥1,200 | ¥800 | ¥2,000 | スキル効率 +15% |
| Lv.3 | 快適 | ¥2,500 | ¥1,500 | ¥4,000 | スキル効率 +30%, 評判 +0.003/tick |
| Lv.4 | 裕福 | ¥5,000 | ¥3,000 | ¥8,000 | スキル効率 +50%, 評判 +0.006/tick |
| Lv.5 | 豪華 | ¥10,000 | ¥6,000 | ¥16,000 | スキル効率 +70%, 評判 +0.010/tick |

**設計意図**: 給料が上がると生活水準を上げたくなる（効率が上がるから）。
しかし上げすぎると手残りが減り、投資に回せない。
「額面年収は上がったのに貯金が増えない」現実のジレンマを再現する。

#### 税金・社会保険

| 収入区分 | 税率 | 社会保険料率 |
|---------|------|------------|
| Tier 1 (〜¥6,000/月) | 10% | 5% |
| Tier 2 (〜¥20,000/月) | 15% | 8% |
| Tier 3 (〜¥40,000/月) | 20% | 10% |
| Tier 4 (〜¥80,000/月) | 25% | 10% |
| Tier 5 (¥80,000〜/月) | 30% | 10% |
| 投資収入 | 20% (一律) | — |

#### ローン・負債

ゲーム中に発生しうる負債:

| 負債 | 発生条件 | 総額 | 月返済 | 完済まで |
|------|---------|------|--------|---------|
| 奨学金 | 資格取得/高額研修 | ¥15,000 | ¥300 | 50ヶ月 |
| 車のローン | 生活水準Lv.3以上 | ¥20,000 | ¥500 | 40ヶ月 |
| 住宅ローン | 自宅購入時 | ¥100,000 | ¥1,500 | 67ヶ月 |

**設計意図**:
- 奨学金: 高額研修はスキルが大きく上がるが、負債も背負う。
  「借金してMBAを取るか、独学で地道に行くか」の判断。
- 車のローン: 生活水準を上げると自動的に発生。見えない固定費。
- 住宅ローン: 家賃がなくなる代わりにローン返済。長期的には得だが
  キャッシュフローは一時的に悪化する。

#### 繰上返済

プレイヤーはいつでもローンの繰上返済が可能。
負債を減らすことで月々の返済額が減り、キャッシュフローが改善する。

```
操作: 投資画面で [繰上返済] を選択
→ 対象ローンを選択
→ 返済額を選択 (¥5,000 / ¥10,000 / 全額)
→ 負債残高が減少、月返済額が再計算
```

### 「ラットレース」のメカニクス

キャッシュフローゲームの核心的概念を再現する。

```
【ラットレース状態】
  不労所得 < 総支出
  → 働き続けないと生活できない
  → 給料が上がっても支出も増えがち
  → 「高収入なのに自由がない」状態

【経済的自由】
  不労所得 ≥ 総支出
  → 働かなくても生活できる
  → 好きな仕事を選べる
  → これが真のゴール！
```

プレイヤーに常に以下を表示する:
```
不労所得: ¥170/月  ←──── ここを増やす
総支出:   ¥2,300/月 ←── ここを下げる or 維持
─────────────────
自由まで: あと ¥2,130/月
進捗:     [█░░░░░░░░░] 7.4%
```

### 投資判断のジレンマ

| 選択肢 | メリット | デメリット |
|--------|---------|-----------|
| 研修を受ける | スキルUP→転職→給料UP | 即座のコスト、場合によっては負債 |
| 預金する | 安全、いつでも引き出せる | 利回りが低い |
| 株式投資 | 中程度の利回り | 価格変動リスク |
| 不動産投資 | 高い不労所得 | 大きな初期投資が必要 |
| ローン返済 | 月々の支出削減 | 投資機会の逸失 |
| 生活水準UP | スキル効率・評判UP | 固定費が増える |

---

## システム3: キャリア戦略 (既存システムの発展)

### スキルシステム

既存の4スキル+評判を維持しつつ、業務タスクとの連携を強化。

| スキル | 用途 | 習得手段 | 業務タスクとの関係 |
|--------|------|---------|-------------------|
| 技術力 | IT系職業の条件 | 講座 (+3) | IT系タスクの成績→技術UP |
| 営業力 | 営業/管理系の条件 | セミナー (+3) | 営業タスクの成績→営業UP |
| 管理力 | マネジメント系の条件 | 研修 (+3) | 管理タスクの成績→管理UP |
| 知識 | 事務/経理/コンサルの条件 | 独学/資格 | 分析タスクの成績→知識UP |
| 評判 | 上位職の条件 | 自然増加+生活水準 | 全タスクの累積成績→評判UP |

**業務タスクによるスキル成長**:
- 業務タスクでPerfect → 該当スキル +0.5
- 業務タスクでGood → 該当スキル +0.2
- これは研修に追加される成長であり、「働きながら成長する」体験

### 職業体系

既存の10職業を維持（将来拡張可能）。

#### Tier 1 — 入門

| 職業 | 月給(税引前) | 条件 | 業務タスク例 |
|------|-------------|------|-------------|
| フリーター | ¥2,400 | なし | 接客対応 (Type A) |
| 事務員 | ¥6,000 | 知識≥5 | 書類整理、データ入力 (Type C) |

#### Tier 2 — 専門職

| 職業 | 月給(税引前) | 条件 | 業務タスク例 |
|------|-------------|------|-------------|
| プログラマー | ¥15,000 | 技術≥15 | バグ発見、設計判断 (Type B) |
| デザイナー | ¥13,500 | 技術≥10, 営業≥8 | デザイン判断 (Type F) |
| 営業 | ¥16,500 | 営業≥15 | 顧客対応、交渉 (Type A) |
| 経理 | ¥12,000 | 知識≥15, 管理≥5 | 決算チェック (Type C) |

#### Tier 3 — 管理職・上位専門職

| 職業 | 月給(税引前) | 条件 | 業務タスク例 |
|------|-------------|------|-------------|
| マネージャー | ¥30,000 | 管理≥20, 営業≥10 | リソース配分 (Type E) |
| コンサルタント | ¥39,000 | 営業≥25, 知識≥20 | 経営分析+提案 (Type A+C) |

#### Tier 4 — 上級職

| 職業 | 月給(税引前) | 条件 | 業務タスク例 |
|------|-------------|------|-------------|
| 部長 | ¥66,000 | 管理≥35, 営業≥20, 評判≥30 | 組織戦略 (Type E) |

#### Tier 5 — 最上位

| 職業 | 月給(税引前) | 条件 | 業務タスク例 |
|------|-------------|------|-------------|
| 起業家 | ¥120,000 | 全≥30, 評判≥50, 純資産≥¥100,000 | 投資判断、事業戦略 (Type A+E) |

### 研修メニュー

研修費用はキャッシュフローの「支出」として計上される。
高額研修はローン（奨学金）を組む選択肢も。

| 研修 | コスト | ローン可 | 効果 | 戦略的役割 |
|------|--------|---------|------|-----------|
| 独学する | 無料 | — | 知識+1 | 序盤の無料UP |
| プログラミング講座 | ¥3,000 | × | 技術+3 | 技術系パス |
| ビジネスセミナー | ¥3,000 | × | 営業+3 | 営業系パス |
| マネジメント研修 | ¥5,000 | × | 管理+3 | 管理系パス |
| 資格を取る | ¥8,000 | × | 知識+4, 評判+5 | 知識+評判 |
| MBA講座 | ¥25,000 | ○ | 管理+5, 知識+3, 評判+3 | 高額だが強力 |
| 専門資格 | ¥20,000 | ○ | 知識+6, 評判+8 | 士業パスの鍵 |

**ローン可の研修**: 所持金が足りなくても受講可能。不足分が奨学金として
負債に計上され、毎月返済が発生する。

---

## ゲームの全体フロー

### 序盤 (0〜3分) — 「働くことを知る」

```
フリーター (月給 ¥2,400)
  ├─ 生活水準: 質素 (支出 ¥1,000/月)
  ├─ 業務タスク: 簡単な接客
  ├─ 手残り: ~¥1,000/月
  │
  ├─ 独学×5 → 知識5 → 事務員に転職
  │
事務員 (月給 ¥6,000)
  ├─ 業務タスク: データ入力、書類整理
  ├─ 手残り: ~¥3,000/月
  ├─ 「プログラミング講座にするか、ビジネスセミナーにするか…」
  │
  └─ 研修でスキルを伸ばし、Tier2へ
```

**この段階で学ぶこと**:
- 仕事には業務がある（キッザニア体験）
- 税金や生活費で額面通りにはもらえない（キャッシュフロー）
- スキル投資が転職の鍵

### 中盤 (3〜7分) — 「キャリアの分岐」

```
Tier2職業 (月給 ¥12,000〜16,500)
  ├─ 業務タスク: 専門的な判断を求められる
  ├─ 生活水準を上げたい誘惑 (普通 or 快適)
  ├─ 研修投資 vs 金融投資のジレンマ
  │
  ├─ 「給料が上がったから1K→1LDKに引っ越そう」
  │     → 支出増加でキャッシュフローは変わらない！
  │
  ├─ 「生活水準は維持して、余剰を株式投資に回そう」
  │     → 不労所得がじわじわ増え始める
  │
  └─ Tier3へ向けてスキル複合を狙う
```

**この段階で学ぶこと**:
- 生活水準と手残りのトレードオフ（ラットレースの罠）
- 不労所得の種を蒔く重要性
- 業務タスクが難しくなる → 仕事の責任が増す体験

### 終盤 (7〜15分) — 「自由への道」

```
Tier3〜4職業 (月給 ¥30,000〜66,000)
  ├─ 高い給料 → 投資に大きく回せる
  ├─ 不動産投資が視野に入る (¥80,000必要)
  ├─ 「ローン返済を優先 vs 投資を優先」の判断
  │
  ├─ 分岐A: キャリア優先ルート
  │   └─ Tier5到達を目指してスキル投資 → 起業家
  │
  ├─ 分岐B: 投資優先ルート
  │   └─ 不労所得を積み上げ → 経済的自由
  │
  └─ 分岐C: バランスルート
      └─ 両方を並行 → 完全制覇を目指す
```

**この段階で学ぶこと**:
- 複利効果（投資が投資を生む）
- ビジネス投資の威力
- 「自由」とは何か（不労所得 ≥ 支出）

---

## UI/画面設計

### 画面構成 (5画面)

| 画面 | キー | 内容 |
|------|------|------|
| メイン | — | ステータス + スキル + 業務タスク + ログ |
| 研修 | [6] | 研修メニュー + ローン選択 |
| 求人 | [7] | 職業一覧 + 条件表示 |
| 家計簿 | [8] | 損益計算書 + バランスシート |
| 投資 | [9] | 資産運用 + ローン返済 |

### メイン画面レイアウト

```
┌─ Career Simulator ─────────────────────────────────┐
│ 所持金: ¥25,430  職業: プログラマー  月: 15ヶ月目   │
│ 評判: ★★☆☆☆  不労所得: ¥170/月  自由まで: 7.4%   │
├─ スキル ────────────────────────────────────────────┤
│ 技術 ████████████░░░░░░░░ 18/100                    │
│ 営業 ███░░░░░░░░░░░░░░░░░  5/100                    │
│ 管理 █░░░░░░░░░░░░░░░░░░░  2/100                    │
│ 知識 ██████░░░░░░░░░░░░░░ 10/100                    │
├─ 業務タスク ────────────────────────────────────────┤
│ [プログラマー] コードレビュー                        │
│                                                      │
│ 変数名が不適切なのは？                               │
│ > let a = users.length                               │
│ > let userCount = users.length                       │
│                                                      │
│ [1] 1行目  [2] 2行目  [3] どちらも問題ない           │
│                                  残り: ████████░░    │
├─ アクション ────────────────────────────────────────┤
│ [6]研修 [7]求人 [8]家計簿 [9]投資 [0]生活水準       │
├─ ログ ──────────────────────────────────────────────┤
│ > 給与日: 手取り ¥11,700 / 支出 ¥2,300 / 残 ¥9,400 │
│ > 業務タスク Perfect! ボーナス ¥2,500 技術+0.5      │
│ > 株式配当: ¥150                                     │
└──────────────────────────────────────────────────────┘
```

### 家計簿画面レイアウト

```
┌─ 家計簿 ───────────────────────────────────────────┐
│                                                      │
│ ┌─ 月次収支 ─────────┐  ┌─ バランスシート ────────┐ │
│ │ 【収入】            │  │ 【資産】     残高  月収 │ │
│ │  給与    ¥15,000   │  │  現金    ¥25,430  —   │ │
│ │  ﾎﾞｰﾅｽ    ¥3,200   │  │  預金    ¥30,000  ¥15 │ │
│ │                     │  │  株式    ¥15,000 ¥150 │ │
│ │ 【天引き】          │  │  不動産       ¥0   ¥0 │ │
│ │  所得税  ▲¥2,730   │  │  ──────────────────── │ │
│ │  社保    ▲¥1,456   │  │  合計    ¥70,430      │ │
│ │                     │  │  不労所得     ¥165/月 │ │
│ │  手取り   ¥14,014   │  │                       │ │
│ │                     │  │ 【負債】     残高 月払 │ │
│ │ 【不労所得】        │  │  奨学金  ¥15,000 ¥300 │ │
│ │  合計      ¥165    │  │  ──────────────────── │ │
│ │                     │  │  合計    ¥15,000      │ │
│ │ 【支出】            │  │  月返済合計    ¥300/月 │ │
│ │  生活費  ▲¥1,200   │  │                       │ │
│ │  家賃    ▲¥800    │  │ 純資産    ¥55,430     │ │
│ │  奨学金  ▲¥300    │  │                       │ │
│ │                     │  │                       │ │
│ │  月間CF   +¥11,879  │  │                       │ │
│ └─────────────────────┘  └───────────────────────┘ │
│                                                      │
│ ══════════════════════════════════════════════════    │
│ 不労所得 ¥165 / 支出 ¥2,300                         │
│ 経済的自由まで: [█░░░░░░░░░] 7.2%                   │
│                                                      │
│ [-] 戻る                                             │
└──────────────────────────────────────────────────────┘
```

### 投資画面レイアウト

```
┌─ 資産運用 ─────────────────────────────────────────┐
│                                                      │
│ 所持金: ¥25,430                                      │
│                                                      │
│ 【投資する】                                         │
│ [1] 預金       ¥1,000〜  月利0.05%  (安全)          │
│ [2] ｲﾝﾃﾞｯｸｽ   ¥5,000〜  月利0.5%   (中リスク)      │
│ [3] 個別株     ¥10,000〜 月利0.3-1.5% (変動)        │
│ [4] 不動産     ¥80,000〜 月利1.5%  (高リターン)     │
│ [5] ﾋﾞｼﾞﾈｽ    ¥150,000〜 月利2.0% (最高)           │
│                                                      │
│ 【ローン返済】                                       │
│ [6] 奨学金 繰上返済  (残 ¥15,000)                   │
│                                                      │
│ [-] 戻る                                             │
└──────────────────────────────────────────────────────┘
```

### 生活水準変更画面

```
┌─ 生活水準 ─────────────────────────────────────────┐
│                                                      │
│ 現在: Lv.2 普通                                      │
│                                                      │
│ [1] Lv.1 質素   生活費¥600  家賃¥400                │
│                  効果: なし                           │
│                                                      │
│ [2] Lv.2 普通   生活費¥1,200  家賃¥800   ← 現在    │
│                  効果: スキル効率 +15%                │
│                                                      │
│ [3] Lv.3 快適   生活費¥2,500  家賃¥1,500            │
│                  効果: スキル効率+30% 評判+0.003/t   │
│                  ※車のローン ¥20,000 が発生          │
│                                                      │
│ [4] Lv.4 裕福   生活費¥5,000  家賃¥3,000            │
│                  効果: スキル効率+50% 評判+0.006/t   │
│                                                      │
│ [5] Lv.5 豪華   生活費¥10,000 家賃¥6,000            │
│                  効果: スキル効率+70% 評判+0.010/t   │
│                                                      │
│ [-] 戻る                                             │
└──────────────────────────────────────────────────────┘
```

### キー操作一覧

| 画面 | キー | アクション |
|------|------|-----------|
| メイン | [1]-[3] | 業務タスクの回答 |
| メイン | [6] | 研修画面へ |
| メイン | [7] | 求人画面へ |
| メイン | [8] | 家計簿画面へ |
| メイン | [9] | 投資画面へ |
| メイン | [0] | 生活水準画面へ |
| 研修 | [1]-[7] | 各研修を受ける |
| 研修 | [-] | 戻る |
| 求人 | [1]-[0] | 各職業に応募 |
| 求人 | [-] | 戻る |
| 家計簿 | [-] | 戻る |
| 投資 | [1]-[6] | 投資/繰上返済 |
| 投資 | [-] | 戻る |
| 生活水準 | [1]-[5] | 生活水準を変更 |
| 生活水準 | [-] | 戻る |

---

## 数値設計の根拠

### 時間の単位

| ゲーム内 | リアル時間 | ticks |
|---------|-----------|-------|
| 1 tick | 0.1秒 | 1 |
| 業務タスク間隔 | 5秒 | 50 |
| 1ヶ月 (給与日) | 30秒 | 300 |
| 1年 | 6分 | 3,600 |

### ペーシング目標

| フェーズ | リアル時間 | ゲーム時間 | 到達目標 |
|----------|-----------|-----------|---------|
| 序盤 | 0-3分 | 0-6ヶ月 | Tier2到達、投資を始める |
| 中盤 | 3-7分 | 6ヶ月-1.5年 | Tier3到達、不労所得が育ち始める |
| 終盤 | 7-15分 | 1.5-3年 | Tier4-5到達 or 経済的自由 |

### 経済的自由の達成シミュレーション

#### ルートA: 質素倹約 × 投資重視

```
前提: 生活水準Lv.1 (支出 ¥1,000/月) を維持
      Tier3マネージャー (手取り ~¥21,900/月)
      全余剰をインデックス投信に投資

月3ヶ月目: 投信 ¥60,000 → 不労所得 ¥300/月
月6ヶ月目: 投信 ¥120,000 → 不労所得 ¥600/月
月8ヶ月目: 投信 ¥160,000 → 不労所得 ¥800/月
月10ヶ月目: 不労所得 ¥1,000/月 ≥ 支出 ¥1,000/月
→ 経済的自由達成! (リアル約5分)
```

#### ルートB: 快適生活 × キャリア重視

```
前提: 生活水準Lv.3 (支出 ¥4,000/月 + 車ローン ¥500)
      スキル効率+30%で素早くTier4部長へ
      部長 (手取り ~¥42,900/月)
      余剰を不動産投資に

月6ヶ月目: 部長到達
月8ヶ月目: 不動産 ¥80,000 → 不労所得 ¥1,200/月
月12ヶ月目: 不動産+投信 → 不労所得 ¥3,000/月
月15ヶ月目: 不労所得 ¥4,500/月 ≥ 支出 ¥4,500/月
→ 経済的自由達成! (リアル約7.5分)
```

#### ルートC: バランス型

```
前提: 生活水準Lv.2 (支出 ¥2,000/月)
      Tier3まではキャリア優先、以降は投資並行

月5ヶ月目: Tier3到達 + 投信 ¥30,000
月8ヶ月目: Tier4到達 + 投信 ¥80,000
月12ヶ月目: 不労所得 ¥1,500/月
月14ヶ月目: 不動産購入 → 不労所得 ¥2,700/月
→ 経済的自由達成! (リアル約7分)
```

### ルートの多様性

| ルート | 所要時間 | 特徴 |
|--------|---------|------|
| 質素倹約型 | ~5分 | 早いが生活水準が低く、スキル効率も低い |
| キャリア型 | ~7.5分 | Tier5を目指す。高い生活費を不労所得でカバー |
| バランス型 | ~7分 | 中間。多くのプレイヤーの自然な選択 |
| 不動産一点型 | ~8分 | 序盤我慢→不動産ドカ買い→一気に自由 |

**設計意図**: どのルートでも到達可能だが、所要時間と体験が異なる。
「正解」はなく、プレイスタイルによって最適ルートが変わる。

---

## イベントシステム (将来拡張)

キャッシュフローの変動要因としてランダムイベントを導入する。

### 好機イベント

| イベント | 効果 | 条件 |
|---------|------|------|
| ヘッドハンティング | 給料 ×1.3 のオファー | 評判≥20 |
| 格安物件 | 不動産を半額で購入可能 | 所持金≥¥40,000 |
| ストックオプション | 勤続ボーナスで株式を獲得 | 同一職業で5ヶ月以上 |
| 副業チャンス | 1ヶ月間追加収入 | スキル条件次第 |

### 試練イベント

| イベント | 効果 | 対処 |
|---------|------|------|
| 家電故障 | 一時的な出費 ¥3,000 | 現金で対処 |
| 市場暴落 | 株式価値が一時的に30%減 | 売らなければ回復する |
| 病気 | 1ヶ月間給料50% | 保険加入で軽減 |
| 不景気 | 全職業の給料が2ヶ月間80% | 不労所得は影響なし |

### イベントの設計意図

- **緊急資金の重要性**: 現金を全部投資に回すとイベントで困る
- **分散投資**: 株式一辺倒だと暴落で痛い
- **保険の価値**: 普段は支出だが、イベント時に助かる
- **不労所得の安定性**: 不景気でも資産収入は変わらない → 経済的自由の価値

---

## 3システムの相互作用マトリクス

```
業務体験 ←──────────→ キャリア戦略
  │  タスク成績 →         │
  │  スキルUP → 転職条件   │
  │  転職 → 新しいタスク   │
  │                        │
  │                        │
  ↕                        ↕
キャッシュフロー管理 ←────┘
  │
  │ 業務ボーナス → 収入増
  │ 研修費 → 支出 (or 負債)
  │ 転職 → 収入構造の変化
  │ 生活水準 → スキル効率に影響
  │ 投資収入 → 不労所得
  │ 不労所得 ≥ 支出 → 経済的自由!
```

**具体的な相互作用**:

1. 業務タスクで高成績 → ボーナス収入増 → 投資原資が増える
2. 研修を受ける → キャッシュフロー悪化 → でもスキルUPで転職 → 給料UP
3. 生活水準UP → スキル効率UP → 早く転職できる → でもキャッシュフロー悪化
4. 投資でお金を使う → 短期的にCF悪化 → でも不労所得が成長
5. 経済的自由達成 → どんな職業でも好きに体験できる → 「キッザニア」モード

---

## 現状の課題と対応

### 既存の課題への対処

| 既存の課題 | 新システムでの対応 |
|-----------|-------------------|
| 戦略が1-2本に収束 | キャッシュフロー管理が加わり、投資戦略の分岐が増える |
| 中盤の停滞感 | 業務タスクで常にインタラクションがある |
| 投資の存在感が薄い | 不労所得が勝利条件に直結、常に意識する |
| リプレイ性が低い | 質素型/キャリア型/投資型で異なる体験 |
| イベント性がない | 業務タスク + 将来のランダムイベント |

---

## 実装の優先順位

### Phase 1: キャッシュフローシステム (MVP)

既存の投資システムを拡張し、損益計算書・バランスシートの概念を導入。

- [ ] 月次サイクル (300 ticks) の導入
- [ ] 税金・社会保険の天引き
- [ ] 生活費・家賃の支出
- [ ] 生活水準システム (5段階)
- [ ] 損益計算書画面
- [ ] バランスシート画面
- [ ] 不労所得 vs 支出の進捗表示
- [ ] 経済的自由の勝利条件

### Phase 2: 業務体験システム (MVP)

業務タスクの基盤と、主要職業のタスクを実装。

- [ ] タスク発生・表示・回答の基盤
- [ ] Type A (選択判断) の実装
- [ ] Type B (パターン発見) の実装
- [ ] Type C (計算・分析) の実装
- [ ] 各Tier1-2職業のタスク (各3問以上)
- [ ] タスク成績 → ボーナス報酬
- [ ] タスク成績 → スキルUP

### Phase 3: 負債・ローンシステム

- [ ] ローンデータ構造
- [ ] 奨学金 (高額研修時)
- [ ] 車のローン (生活水準連動)
- [ ] 繰上返済機能
- [ ] 住宅ローン (自宅購入)

### Phase 4: 業務タスクの拡充

- [ ] Type D-G の実装
- [ ] Tier3-5職業のタスク
- [ ] タスク難易度のスケーリング
- [ ] タスクのバリエーション追加 (各職業5問以上)

### Phase 5: イベントシステム

- [ ] イベント発生基盤
- [ ] 好機イベント
- [ ] 試練イベント
- [ ] 市場変動 (株価/不動産価格)

### Phase 6: 職業拡張

既存DESIGN.mdの職業拡張ロードマップを実装。
- [ ] 新スキル (創造力、体力)
- [ ] 業界別職業の追加
- [ ] 業界特化の業務タスク

---

## 技術仕様

### ファイル構成

```
src/games/career/
├── DESIGN.md      ← このファイル
├── mod.rs         Game trait 実装、入力ディスパッチ
├── state.rs       データ構造 (CareerState, JobKind, etc.)
├── logic.rs       純粋関数 (tick, buy_training, apply_job, invest)
├── render.rs      読み取り専用レンダリング (3画面)
├── tasks.rs       業務タスクの定義・判定ロジック (新規)
└── cashflow.rs    キャッシュフロー計算・月次処理 (新規)
```

### Pure Logic Pattern 準拠

- `state.rs`: データのみ、ロジックなし (TaskState, CashFlowState 追加)
- `logic.rs`: `&mut CareerState` を受け取る純粋関数、IO なし
- `tasks.rs`: タスク生成・判定の純粋関数
- `cashflow.rs`: 月次精算・税金計算の純粋関数
- `render.rs`: `&CareerState` を読み取り専用で描画

### 新規データ構造の概要

```rust
// 業務タスク
struct WorkTask {
    task_type: TaskType,       // A-G
    description: String,       // タスク説明文
    options: Vec<String>,      // 選択肢
    correct: usize,            // 正解インデックス
    good: Option<usize>,       // 次善の選択肢
    remaining_ticks: u32,      // 残り時間
    skill_reward: SkillKind,   // 成功時に伸びるスキル
}

// キャッシュフロー
struct CashFlowState {
    lifestyle_level: u8,       // 1-5
    monthly_salary: i64,       // 額面月給
    tax_rate: f64,             // 税率
    insurance_rate: f64,       // 社保率
    loans: Vec<Loan>,          // ローン一覧
    investments: Investments,   // 資産一覧
    passive_income: i64,       // 不労所得/月
    total_expenses: i64,       // 総支出/月
    months_elapsed: u32,       // 経過月数
}

// ローン
struct Loan {
    kind: LoanKind,
    remaining: i64,            // 残高
    monthly_payment: i64,      // 月返済額
}
```

### テストカバレッジ (追加分)

- tasks: タスク生成、正解判定、ボーナス計算、難易度スケーリング
- cashflow: 月次精算、税金計算、ローン返済、投資リターン、経済的自由判定
- state: 新データ構造の初期化・妥当性
- integration: タスク→ボーナス→投資→不労所得→自由の一連の流れ
